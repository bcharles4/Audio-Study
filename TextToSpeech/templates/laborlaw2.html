<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lessons - Text-to-Speech</title>
    <link rel="stylesheet" href="../static/css/styles2.css">
</head>

<body>
    <div class="navbar">
        <ul>
            <div class="logo">
                <img src="../static/img/ublogo.png" alt="University Logo">
            </div>
            <li><a href="/">Home</a></li>
            <li><a href="/convert">Convert</a></li>
            <li><a href="/lesson">Lessons</a></li>
        </ul>
    </div>

    <div class="con-commands">
        <div class="commands">
            <div class="btn-read">
                <button id="readBtn"><ion-icon name="book"></ion-icon></button>
            </div>

            <div class="btn-pause">
                <button id="pauseBtn" disabled><ion-icon name="pause"></ion-icon></button>
            </div>

            <div class="btn-stop">
                <button id="stopBtn" disabled><ion-icon name="stop"></ion-icon></button>
            </div>

            <div class="btn-command">
                <button id="speech-command"><ion-icon name="logo-soundcloud"></ion-icon></button>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="con-card">
        <h1>Chapter 1 - Labor Law</h1>

        <p id="para1">
			Labor standards laws provide the LEAST terms and conditions of employment that employers MUST comply with and
		    to which employees are entitled as a matter of LEGAL RIGHT. Labor relations law, on the other hand, 
			defines the status, rights and duties, and the institutional mechanisms that govern the individual and collective interactions, 
			of employers, employees and their representatives.
        </p>

        <p id="para2">
           But although the distinction between labor standards and labor relations is useful for academic purposes, they in reality overlap. 
		   The question what am I entitled to under the law is addressed in Labor standards laws; and the query 
		   how can I upgrade these minimum standards is shed light under Labor relations laws. These two major divisions of labor 
		   law shall be discussed in this book in a juxtaposed manner.
		</p>  
		
        <p id="para3">
            Labor Standard laws, in themselves, do not guarantee lasting industrial peace, as they only provide for the minimum standards of employment. Labor relations laws,
			by enabling workers to obtain improvements of the benefits guaranteed by labor standard laws and by providing 
			for a mechanism by which disputes between the employer and his employees are expeditiously settled, can assure a stable and lasting industrial peace.
        </p>
		
        <p id="para4">		
			Labor Standard laws, in themselves, do not guarantee lasting industrial peace, as they only provide for the minimum standards of employment. 
			Labor relations laws, by enabling workers to obtain improvements of the benefits guaranteed by labor standard laws and by providing for a mechanism by 
			which disputes between the employer and his employees are expeditiously settled, can assure a stable and lasting industrial peace.
			The Labor Code of the Philippines (PD 442), hereinafter referred to as the Labor Code, is the most basic labor law in our country, 
			which took effect on November 1, 1974. It is a set of substantive and procedural laws that prescribe the principal rights and responsibilities of employers, 
			employees, and other industrial participants, as well as the roll of the Government, in employment and related activities, so as to institute social justice.
			Under Article 3 of the Labor Code, it declares that the State shall:<br>
			
			<br>a. Afford protection to labor
			<br>b. Promote full employment
			<br>c. Ensure equal work opportunities regardless of sex, age or creed
			<br>d. Regulate the relations between workers and employees, and
			<br>e. Assure the right of workers to:		
				<br>&nbsp&nbsp&nbsp• Just and humane working conditions of work
				<br>&nbsp&nbsp&nbsp• Self-Organization
				<br>&nbsp&nbsp&nbsp• Security of tenure, and
				<br>&nbsp&nbsp&nbsp• Collective bargaining<br><br>
				Each item shall be elucidated thoroughly as this book progresses.
       </p>
	   
	    <p id="para5">
            However, labor laws are not the only ones which govern the whole spectrum of employment rights and duties. Judicial decisions, specifically that of the Supreme Court, applying and 
			interpreting labor laws are also taken into consideration. In addition, rules and regulations issued by administrative agencies (such as the Department of Labor and Employment) 
			within their legal competence implementing labor laws are likewise mulled over. The latter two sources of labor rights and duties shall also be discussed and incorporated in this book.
        </p>
	   
	   
	   
        <!-- Dropdown for voice selection -->
        <label for="voiceSelect">Choose Voice:</label>
        <select id="voiceSelect"></select>
    
       

        <!-- Navigation -->
        <div class="navigation">
            <a href="/laborlaw1">1</a> |
            <a href="/laborlaw2">2</a> |
			<a href="/laborlaw3">3</a> |
			<a href="/laborlaw4">4</a> |
			<a href="/laborlaw5">5</a> 
        </div>
    </div>
    </div>

    <script>
        let speechSynthesisUtterance;
        let voices = [];
        let isPaused = false;

        // Load available voices
        function loadVoices() {
            voices = window.speechSynthesis.getVoices();
            voices.forEach((voice, index) => {
                const option = document.createElement('option');
                option.value = index;
                option.textContent = voice.name;
                document.getElementById('voiceSelect').appendChild(option);
            });
        }

        // Read text with speech synthesis
        function readText() {
            if (speechSynthesis.speaking) {
                speechSynthesis.cancel();  // Cancel any ongoing speech
            }

            let selectedVoiceIndex = document.getElementById('voiceSelect').value;
            let selectedVoice = voices[selectedVoiceIndex];
            let paragraphs = [document.getElementById('para1'), document.getElementById('para2'), document.getElementById('para3'), document.getElementById('para4'), document.getElementById('para5')];
            let textToRead = paragraphs.map(p => p.innerText).join(' ');

            speechSynthesisUtterance = new SpeechSynthesisUtterance(textToRead);
            speechSynthesisUtterance.voice = selectedVoice;

            speechSynthesisUtterance.onend = function () {
                document.getElementById('pauseBtn').disabled = true;
                document.getElementById('stopBtn').disabled = true;
                document.getElementById('readBtn').disabled = false;
            };

            speechSynthesis.speak(speechSynthesisUtterance);
            document.getElementById('readBtn').disabled = true;
            document.getElementById('pauseBtn').disabled = false;
            document.getElementById('stopBtn').disabled = false;
        }

        // Pause/Resume speech synthesis
        function togglePauseResume() {
            if (!isPaused) {
                speechSynthesis.pause();
                document.getElementById('pauseBtn').textContent = 'Resume';
            } else {
                speechSynthesis.resume();
                document.getElementById('pauseBtn').textContent = 'Pause';
            }
            isPaused = !isPaused;
        }

        // Stop speech synthesis completely
        function stopSpeech() {
            if (speechSynthesis.speaking) {
                speechSynthesis.cancel();
            }
            document.getElementById('readBtn').disabled = false;
            document.getElementById('pauseBtn').disabled = true;
            document.getElementById('stopBtn').disabled = true;
            document.getElementById('pauseBtn').textContent = 'Pause';
            isPaused = false;
        }

        // Stop speech synthesis when navigating away or refreshing
        window.addEventListener('beforeunload', function () {
            if (speechSynthesis.speaking) {
                speechSynthesis.cancel();
            }
        });

        // Handle page load events
        document.addEventListener('DOMContentLoaded', function () {
            if (window.speechSynthesis) {
                window.speechSynthesis.onvoiceschanged = loadVoices;
            }
            document.getElementById('readBtn').addEventListener('click', readText);
            document.getElementById('pauseBtn').addEventListener('click', togglePauseResume);
            document.getElementById('stopBtn').addEventListener('click', stopSpeech);
        });


        window.SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;

let recognition;
let recognizing = false;

// Initialize speech recognition
if (window.SpeechRecognition) {
    recognition = new SpeechRecognition();
    recognition.continuous = true;
    recognition.lang = 'en-US';

    // Toggle recognition on button click
    document.getElementById('speech-command').addEventListener('click', function () {
        if (recognizing) {
            recognition.stop();
            recognizing = false;
            this.innerHTML = '<ion-icon name="logo-soundcloud"></ion-icon>'; // Reset icon
        } else {
            recognition.start();
            recognizing = true;
            this.innerHTML = '<ion-icon name="mic-off"></ion-icon>'; // Change icon to indicate active listening
        }
    });

    // Handle recognized commands
    recognition.onresult = function (event) {
        const command = event.results[event.results.length - 1][0].transcript.trim().toLowerCase();
        console.log("Recognized command:", command);

        // Function to speak a confirmation message and navigate afterward
        function speakConfirmation(message, action) {
            const confirmationMessage = new SpeechSynthesisUtterance(message);
            confirmationMessage.onend = action; // Run action after confirmation is spoken
            window.speechSynthesis.speak(confirmationMessage);
        }

        // Execute actions based on recognized commands
        if (command.includes("next page")) {
            speakConfirmation("Okay Master, Navigating to the next page.", () => window.location.href = '/laborlaw3'); // Adjust to your next page URL
        } else if (command.includes("previous page")) {
            speakConfirmation("Going to the previous page.", () => window.history.back());
        } else if (command.includes("go to home")) {
            speakConfirmation("Returning to home page.", () => window.location.href = '/');
        } else if (command.includes("stop")) {
            speakConfirmation("Stopping the audio.", () => document.getElementById('stopBtn').click());
        } else if (command.includes("pause")) {
            speakConfirmation("Pausing the audio.", () => document.getElementById('pauseBtn').click());
        } else if (command.includes("read")) {
            speakConfirmation("Reading aloud.", () => document.getElementById('readBtn').click());
        }
    };

    recognition.onerror = function (event) {
        console.error("Speech recognition error:", event.error);
        recognizing = false;
        document.getElementById('speech-command').innerHTML = '<ion-icon name="logo-soundcloud"></ion-icon>';
    };
} else {
    alert("Your browser does not support Speech Recognition.");
}


    </script>

    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</body>

</html>