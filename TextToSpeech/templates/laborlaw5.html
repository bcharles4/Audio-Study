<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lessons - Text-to-Speech</title>
    <link rel="stylesheet" href="../static/css/styles2.css">
</head>

<body>
    <div class="navbar">
        <ul>
            <div class="logo">
                <img src="../static/img/ublogo.png" alt="University Logo">
            </div>
            <li><a href="/">Home</a></li>
            <li><a href="/convert">Convert</a></li>
            <li><a href="/lesson">Lessons</a></li>
        </ul>
    </div>

    <div class="container">
        <h1>Chapter 1 - Labor Law</h1>

        <p id="para1">
            <b>1.2. Labor and Capital</b><br>
            The relevance of the labor law calls upon a comprehensive analysis of the relationship between labor and
            capital - the former provides the services that propels production,
            and the latter shells out the resources that makes possible the production and keeps economic industries
            afloat and operational.
        </p>

        <p id="para2">
            Between these two economic forces, labor is arguably stepping on a weaker stance. This is the reason,
            corollary with the call for social justice, why the law provides more protection to labor (at least on
            paper) -
            for as the legal maxim goes: those who have less in life should have more in law. Moreover, a person's need
            for employment comes from vital, even desperate necessity which hence call for stronger safeguards to labor.
            This is the reason why under Article 4 of the Labor Code of the Philippines,
            there is a liberal approach in interpreting the Labor Code and its Implementing Rules and Regulations in
            favor of labor, to wit:
            "all doubts in the implementation interpretation of the provisions of the Labor Code shall be construed in
            favor of labor".
        </p>

        <p id="para3">
            In carrying out and interpreting the Labor Code's provisions and its implementing regulations, the
            workingman's welfare should be the primordial and paramount consideration. This
            kind of interpretation gives meaning and substance to the liberal compassionate spirit of the law provided
            for in Article 4 of the Labor Code. However,
            if the provision of law is clear and unambiguous, it must be applied in accordance with its express terms
            and no interpretation is needed.
        </p>

        <p id="para4">
            &nbsp&nbsp&nbsp&nbsp<em>No society can surely be flourishing and happy, of which the far greater part of the
                members are poor and miserable.
                It is but equity, besides, that they who food, clothe, and lodge the whole body of the people, should
                have such a share of the produce of their own
                labour as to be themselves tolerably well fed, clothed and lodged. (Adam Smith, The Wealth of Nations
                1776)</em>
        </p>

        <p id="para5">
            While the above-mentioned truism of protection to labor is evident under the Constitution and other laws, it
            is equally important to note that the same fortification is also extended to those who
            open the gates for employment. When an employee, for example, commits a work-related infraction, the scale
            of social justice cannot be tipped in favor of labor and force the employer to
            keep an unwanted and undeserving worker in his fold.
            "The law, in protecting the right of laborer, authorizes neither oppression nor self-destruction of the
            employer".
        </p>

        <p id="para6">
            We cannot simply tolerate injustice to employers if only to protect the welfare of undeserving employees."
            While the Constitution is committed to the policy of social justice and the protection of the working class,
            it should not be expected that every labor dispute will automatically be decided in favor of labor.
            Management also has its own rights which, as such, are entitled to respect and enforcement in the interest
            of simple fair play.12 - for the Constitution equally acknowledges the importance of employers, to wit:
            "the State recognizes the indispensable role of the private sector, encourages private enterprise, and
            provide incentives to needed investments".
        </p>

        <!-- Dropdown for voice selection -->
        <label for="voiceSelect">Choose Voice:</label>
        <select id="voiceSelect"></select>
        <br><br>
        <button id="readBtn">Read Lesson Aloud</button>
        <button id="pauseBtn" disabled>Pause</button>
        <button id="stopBtn" disabled>Stop</button>

        <!-- Navigation -->
        <div class="navigation">
            <a href="/laborlaw2">2</a> |
            <a href="/laborlaw3">3</a> |
            <a href="/laborlaw4">4</a> |
            <a href="/laborlaw5">5</a> |
            <a href="/laborlaw6">6</a>
        </div>
    </div>

    <script>
        let speechSynthesisUtterance;
        let voices = [];
        let isPaused = false;

        // Load available voices
        function loadVoices() {
            voices = window.speechSynthesis.getVoices();
            voices.forEach((voice, index) => {
                const option = document.createElement('option');
                option.value = index;
                option.textContent = voice.name;
                document.getElementById('voiceSelect').appendChild(option);
            });
        }

        // Read text with speech synthesis
        function readText() {
            if (speechSynthesis.speaking) {
                speechSynthesis.cancel();  // Cancel any ongoing speech
            }

            let selectedVoiceIndex = document.getElementById('voiceSelect').value;
            let selectedVoice = voices[selectedVoiceIndex];
            let paragraphs = [document.getElementById('para1'), document.getElementById('para2'), document.getElementById('para3'), document.getElementById('para4'), document.getElementById('para5'), document.getElementById('para6')];
            let textToRead = paragraphs.map(p => p.innerText).join(' ');

            speechSynthesisUtterance = new SpeechSynthesisUtterance(textToRead);
            speechSynthesisUtterance.voice = selectedVoice;

            speechSynthesisUtterance.onend = function () {
                document.getElementById('pauseBtn').disabled = true;
                document.getElementById('stopBtn').disabled = true;
                document.getElementById('readBtn').disabled = false;
            };

            speechSynthesis.speak(speechSynthesisUtterance);
            document.getElementById('readBtn').disabled = true;
            document.getElementById('pauseBtn').disabled = false;
            document.getElementById('stopBtn').disabled = false;
        }

        // Pause/Resume speech synthesis
        function togglePauseResume() {
            if (!isPaused) {
                speechSynthesis.pause();
                document.getElementById('pauseBtn').textContent = 'Resume';
            } else {
                speechSynthesis.resume();
                document.getElementById('pauseBtn').textContent = 'Pause';
            }
            isPaused = !isPaused;
        }

        // Stop speech synthesis completely
        function stopSpeech() {
            if (speechSynthesis.speaking) {
                speechSynthesis.cancel();
            }
            document.getElementById('readBtn').disabled = false;
            document.getElementById('pauseBtn').disabled = true;
            document.getElementById('stopBtn').disabled = true;
            document.getElementById('pauseBtn').textContent = 'Pause';
            isPaused = false;
        }

        // Stop speech synthesis when navigating away or refreshing
        window.addEventListener('beforeunload', function () {
            if (speechSynthesis.speaking) {
                speechSynthesis.cancel();
            }
        });

        // Handle page load events
        document.addEventListener('DOMContentLoaded', function () {
            if (window.speechSynthesis) {
                window.speechSynthesis.onvoiceschanged = loadVoices;
            }
            document.getElementById('readBtn').addEventListener('click', readText);
            document.getElementById('pauseBtn').addEventListener('click', togglePauseResume);
            document.getElementById('stopBtn').addEventListener('click', stopSpeech);
        });
    </script>
</body>

</html>
