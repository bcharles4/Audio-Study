<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lessons - Text-to-Speech</title>
    <link rel="stylesheet" href="../static/css/styles2.css">
</head>

<body>
    <div class="navbar">
        <ul>
            <div class="logo">
                <img src="../static/img/ublogo.png" alt="University Logo">
            </div>
            <li><a href="/">Home</a></li>
            <li><a href="/convert">Convert</a></li>
            <li><a href="/lesson">Lessons</a></li>
        </ul>
    </div>

    <div class="container">
        <div class="con-card">
        <h1>Chapter 1 - Labor Law</h1>

        <p id="para1">
		<b>1.1. Social Justice as the Rim</b><br>
            The basic objective behind labor laws is the principle of social justice. In the landmark case of Calalang vs. Williams, the Supreme Court beautifully and succinctly elucidated what social justice is. 
			Accordingly, it is "neither communism, nor despotism, nor atomism, nor anarchy, but the HUMANISATION OF LAWS and the EQUALISATION OF SOCIAL AND ECONOMIC FORCES by the State so that justice in its rational 
			and objectively secular conception may at least be approximated. Social justice means the PROMOTION OF THE WELFARE of all people, the adoption by the government of measures calculated 
			to ensure economic stability of all the component elements of society through the maintenance of proper economic and social equilibrium in the interrelations of the members of the community."
        </p>

        <p id="para2">
			Social justice commands a legal bias in favor of those who are unprivileged. In essence, social justice is both a juridical principle and a societal goal. 
			As a juridical principle, it prescribes equality of the people, rich or poor, before the law. As a goal, it means the attainment of decent quality of life of the masses through humane
			productive efforts. The pursuit of social justice does not require making the rich poor but, by lawful process, making the rich share with the government the aim to realize social justice. 
			But ultimately, social justice aims at balancing the seemingly uneven weighbridge between the interests of laborers, on the one hand, and the rich and powerful capitalists, on the other.
		</p>
		   
        <p id="para3">
           The idea of social justice as a common end for all public welfare endeavors is also clear under the Constitution. Under Article II, Section 10 of the 1987 Constitution: 
		   "the State shall promote social justice in all phases of national development". Labor being one of the more abundant avenue for national development and economic growth.
        </p>
		
		<p id="para4">
          Aside from this provision, the Constitution practically dedicated an entire article (Article XIII) just to manifest the State's commitment to social justice. 
		  As an example, Section 2 of this article provides that: 
		  "The promotion of social justice shall include the commitment to create economic opportunities based on freedom of initiative and self-reliance".
        </p>

        <!-- Dropdown for voice selection -->
        <label for="voiceSelect">Choose Voice:</label>
        <select id="voiceSelect"></select>
         <br><br>
        <button id="readBtn">Read Lesson Aloud</button>
        <button id="pauseBtn" disabled>Pause</button>
        <button id="stopBtn" disabled>Stop</button>

        <!-- Navigation -->
        <div class="navigation">
            <a href="/laborlaw1">1</a> |
            <a href="/laborlaw2">2</a> |
			<a href="/laborlaw3">3</a> |
			<a href="/laborlaw4">4</a> |
			<a href="/laborlaw5">5</a> 	
        </div>
    </div>
    </div>

    <script>
        let speechSynthesisUtterance;
        let voices = [];
        let isPaused = false;

        // Load available voices
        function loadVoices() {
            voices = window.speechSynthesis.getVoices();
            voices.forEach((voice, index) => {
                const option = document.createElement('option');
                option.value = index;
                option.textContent = voice.name;
                document.getElementById('voiceSelect').appendChild(option);
            });
        }

        // Read text with speech synthesis
        function readText() {
            if (speechSynthesis.speaking) {
                speechSynthesis.cancel();  // Cancel any ongoing speech
            }

            let selectedVoiceIndex = document.getElementById('voiceSelect').value;
            let selectedVoice = voices[selectedVoiceIndex];
            let paragraphs = [document.getElementById('para1'), document.getElementById('para2'), document.getElementById('para3'), document.getElementById('para4')];
            let textToRead = paragraphs.map(p => p.innerText).join(' ');

            speechSynthesisUtterance = new SpeechSynthesisUtterance(textToRead);
            speechSynthesisUtterance.voice = selectedVoice;

            speechSynthesisUtterance.onend = function () {
                document.getElementById('pauseBtn').disabled = true;
                document.getElementById('stopBtn').disabled = true;
                document.getElementById('readBtn').disabled = false;
            };

            speechSynthesis.speak(speechSynthesisUtterance);
            document.getElementById('readBtn').disabled = true;
            document.getElementById('pauseBtn').disabled = false;
            document.getElementById('stopBtn').disabled = false;
        }

        // Pause/Resume speech synthesis
        function togglePauseResume() {
            if (!isPaused) {
                speechSynthesis.pause();
                document.getElementById('pauseBtn').textContent = 'Resume';
            } else {
                speechSynthesis.resume();
                document.getElementById('pauseBtn').textContent = 'Pause';
            }
            isPaused = !isPaused;
        }

        // Stop speech synthesis completely
        function stopSpeech() {
            if (speechSynthesis.speaking) {
                speechSynthesis.cancel();
            }
            document.getElementById('readBtn').disabled = false;
            document.getElementById('pauseBtn').disabled = true;
            document.getElementById('stopBtn').disabled = true;
            document.getElementById('pauseBtn').textContent = 'Pause';
            isPaused = false;
        }

        // Stop speech synthesis when navigating away or refreshing
        window.addEventListener('beforeunload', function () {
            if (speechSynthesis.speaking) {
                speechSynthesis.cancel();
            }
        });

        // Handle page load events
        document.addEventListener('DOMContentLoaded', function () {
            if (window.speechSynthesis) {
                window.speechSynthesis.onvoiceschanged = loadVoices;
            }
            document.getElementById('readBtn').addEventListener('click', readText);
            document.getElementById('pauseBtn').addEventListener('click', togglePauseResume);
            document.getElementById('stopBtn').addEventListener('click', stopSpeech);
        });
    </script>
</body>

</html>