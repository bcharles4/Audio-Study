<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lessons - Text-to-Speech</title>
    <link rel="stylesheet" href="../static/css/styles2.css">
</head>

<body>
    <div class="navbar">
        <ul>
            <div class="logo">
                <img src="../static/img/ublogo.png" alt="University Logo">
            </div>
            <li><a href="/">Home</a></li>
            <li><a href="/convert">Convert</a></li>
            <li><a href="/lesson">Lessons</a></li>
        </ul>
    </div>

    <div class="container">
        <div class="con-card">
        <h1>Chapter 1 - Labor Law</h1>

        <p id="para1">
            <b>1.1.a. Compassionate Justice</b><br>
            In consonance with the overarching purpose of fostering social justice as the underlying principle in labor
            laws, courts and labor tribunals have utilized what is known as compassionate justice in its decisions
            and rulings - disregarding certain rigidities in the rules and giving considerable weight to all possible
            equities in each case. This has been in certain dismissal cases to bar termination of workers who
            have been found guilty of certain offenses, but have nevertheless rendered long years of service and without
            any derogatory records prior to offense committed.
        </p>

        <p id="para2">
            As an example, in the case of Caltex Refinery Employees' Association vs. NLRC (1995), the Court held that
            the dismissal of an employee for theft of lighter fluid valued at P8.00 is too severe a penalty,
            in view of the length of service he has rendered in the company (8 years) and the lack of previous
            derogatory record, that there was no showing that the employee's retention in the service would work undue
            prejudice to the viability
            of the employer's operations. Besides, the employee has already bee preventively suspended and most likely
            suffered mental torture in the process.
        </p>

        <p id="para3">
            Also, in the case of Manila Electric Company vs. Beltran (2012), the Court ruled that the termination of a
            senior branch clerk due to negligence consisting of her failure to immediately remit collections amounting
            to P15,000 is too harsh in lieu of her nine (9) years of unblemished service in the company, and the absence
            of intent, ill motive or bad faith in his remiss.
        </p>

        <p id="para4">
            However, it must be remembered that this clout of protection given to laborers should not mean injustice and
            destruction of the rights of employers, as even the idea of social justice is not intended to
            countenance wrongdoing simply because it is committed by the underprivileged. "At best it may mitigate the
            penalty but it certainly will not condone the offense. Compassion for the underprivileged is an
            imperative of every humane society but only when the recipient is not a rascal claiming an
            undeserved privilege. Social justice cannot be permitted to be the refuge of scoundrels any more than can
            equity be an impediment to the punishment of the guilty."
        </p>

        <!-- Dropdown for voice selection -->
        <label for="voiceSelect">Choose Voice:</label>
        <select id="voiceSelect"></select>
        <br><br>
        <button id="readBtn">Read Lesson Aloud</button>
        <button id="pauseBtn" disabled>Pause</button>
        <button id="stopBtn" disabled>Stop</button>

        <!-- Navigation -->
        <div class="navigation">
            <a href="/laborlaw2">2</a> |
            <a href="/laborlaw3">3</a> |
            <a href="/laborlaw4">4</a> |
            <a href="/laborlaw5">5</a> |
            <a href="/laborlaw6">6</a>
        </div>
    </div>
    </div>

    <script>
        let speechSynthesisUtterance;
        let voices = [];
        let isPaused = false;

        // Load available voices
        function loadVoices() {
            voices = window.speechSynthesis.getVoices();
            voices.forEach((voice, index) => {
                const option = document.createElement('option');
                option.value = index;
                option.textContent = voice.name;
                document.getElementById('voiceSelect').appendChild(option);
            });
        }

        // Read text with speech synthesis
        function readText() {
            if (speechSynthesis.speaking) {
                speechSynthesis.cancel();  // Cancel any ongoing speech
            }

            let selectedVoiceIndex = document.getElementById('voiceSelect').value;
            let selectedVoice = voices[selectedVoiceIndex];
            let paragraphs = [document.getElementById('para1'), document.getElementById('para2'), document.getElementById('para3'), document.getElementById('para4')];
            let textToRead = paragraphs.map(p => p.innerText).join(' ');

            speechSynthesisUtterance = new SpeechSynthesisUtterance(textToRead);
            speechSynthesisUtterance.voice = selectedVoice;

            speechSynthesisUtterance.onend = function () {
                document.getElementById('pauseBtn').disabled = true;
                document.getElementById('stopBtn').disabled = true;
                document.getElementById('readBtn').disabled = false;
            };

            speechSynthesis.speak(speechSynthesisUtterance);
            document.getElementById('readBtn').disabled = true;
            document.getElementById('pauseBtn').disabled = false;
            document.getElementById('stopBtn').disabled = false;
        }

        // Pause/Resume speech synthesis
        function togglePauseResume() {
            if (!isPaused) {
                speechSynthesis.pause();
                document.getElementById('pauseBtn').textContent = 'Resume';
            } else {
                speechSynthesis.resume();
                document.getElementById('pauseBtn').textContent = 'Pause';
            }
            isPaused = !isPaused;
        }

        // Stop speech synthesis completely
        function stopSpeech() {
            if (speechSynthesis.speaking) {
                speechSynthesis.cancel();
            }
            document.getElementById('readBtn').disabled = false;
            document.getElementById('pauseBtn').disabled = true;
            document.getElementById('stopBtn').disabled = true;
            document.getElementById('pauseBtn').textContent = 'Pause';
            isPaused = false;
        }

        // Stop speech synthesis when navigating away or refreshing
        window.addEventListener('beforeunload', function () {
            if (speechSynthesis.speaking) {
                speechSynthesis.cancel();
            }
        });

        // Handle page load events
        document.addEventListener('DOMContentLoaded', function () {
            if (window.speechSynthesis) {
                window.speechSynthesis.onvoiceschanged = loadVoices;
            }
            document.getElementById('readBtn').addEventListener('click', readText);
            document.getElementById('pauseBtn').addEventListener('click', togglePauseResume);
            document.getElementById('stopBtn').addEventListener('click', stopSpeech);
        });
    </script>
</body>

</html>
